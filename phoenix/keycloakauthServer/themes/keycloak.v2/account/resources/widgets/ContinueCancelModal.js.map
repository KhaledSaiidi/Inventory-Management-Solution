{"version":3,"file":"ContinueCancelModal.js","names":["React","Modal","ModalVariant","Button","Msg","ContinueCancelModal","Component","constructor","props","setState","isModalOpen","onClose","handleModalToggle","onContinue","state","render","buttonId","buttonVariant","isDisabled","buttonTitle","small","localize","modalTitle","handleContinue","modalContinueButtonLabel","modalCancelButtonLabel","modalMessage","children"],"sources":["../../src/app/widgets/ContinueCancelModal.tsx"],"sourcesContent":["/*\n * Copyright 2019 Red Hat, Inc. and/or its affiliates.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\nimport { Modal, ModalVariant, Button, ButtonProps } from '@patternfly/react-core';\nimport {Msg} from './Msg';\n\n/**\n * For any of these properties that are strings, you can\n * pass in a localization key instead of a static string.\n */\ninterface ContinueCancelModalProps {\n    buttonTitle?: string;\n    buttonVariant?: ButtonProps['variant'];\n    buttonId?: string;\n    render?(toggle: () => void): React.ReactNode;\n    modalTitle: string;\n    modalMessage?: string;\n    modalContinueButtonLabel?: string;\n    modalCancelButtonLabel?: string;\n    onContinue: () => void;\n    onClose?: () => void;\n    isDisabled?: boolean;\n}\n\ninterface ContinueCancelModalState {\n    isModalOpen: boolean;\n}\n\n/**\n * This class renders a button that provides a continue/cancel modal dialog when clicked.  If the user selects 'Continue'\n * then the onContinue function is executed.\n *\n * @author Stan Silvert ssilvert@redhat.com (C) 2019 Red Hat Inc.\n */\nexport class ContinueCancelModal extends React.Component<ContinueCancelModalProps, ContinueCancelModalState> {\n    protected static defaultProps = {\n        buttonVariant: 'primary',\n        modalContinueButtonLabel: 'continue',\n        modalCancelButtonLabel: 'doCancel',\n        isDisabled: false\n    };\n\n    public constructor(props: ContinueCancelModalProps) {\n        super(props);\n        this.state = {\n            isModalOpen: false\n        };\n    }\n\n    private handleModalToggle = () => {\n        this.setState(({ isModalOpen }) => ({\n            isModalOpen: !isModalOpen\n        }));\n        if (this.props.onClose) this.props.onClose();\n    };\n\n    private handleContinue = () => {\n        this.handleModalToggle();\n        this.props.onContinue();\n    }\n\n    public render(): React.ReactNode {\n        const { isModalOpen } = this.state;\n\n        return (\n            <React.Fragment>\n                {!this.props.render &&\n                <Button id={this.props.buttonId} variant={this.props.buttonVariant} onClick={this.handleModalToggle} isDisabled={this.props.isDisabled}>\n                    <Msg msgKey={this.props.buttonTitle!}/>\n                </Button>}\n                {this.props.render && this.props.render(this.handleModalToggle)}\n                <Modal\n                    {...this.props}\n                    variant={ModalVariant.small}\n                    title={Msg.localize(this.props.modalTitle)}\n                    isOpen={isModalOpen}\n                    onClose={this.handleModalToggle}\n                    actions={[\n                        <Button id='modal-confirm' key=\"confirm\" variant=\"primary\" onClick={this.handleContinue}>\n                            <Msg msgKey={this.props.modalContinueButtonLabel!}/>\n                        </Button>,\n                        <Button id='modal-cancel' key=\"cancel\" variant=\"secondary\" onClick={this.handleModalToggle}>\n                            <Msg msgKey={this.props.modalCancelButtonLabel!}/>\n                        </Button>\n                    ]}\n                >\n                    { !this.props.modalMessage && this.props.children}\n                    { this.props.modalMessage && <Msg msgKey={this.props.modalMessage}/>}\n                </Modal>\n            </React.Fragment>\n        );\n    }\n};\n"],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,OAAO,KAAKA,KAAZ;AACA,SAASC,KAAT,EAAgBC,YAAhB,EAA8BC,MAA9B;AACA,SAAQC,GAAR;AAEA;AACA;AACA;AACA;;AAmBA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,mBAAN,SAAkCL,KAAK,CAACM,SAAxC,CAAsG;EAQlGC,WAAW,CAACC,KAAD,EAAkC;IAChD,MAAMA,KAAN;;IADgD,2CAOxB,MAAM;MAC9B,KAAKC,QAAL,CAAc,CAAC;QAAEC;MAAF,CAAD,MAAsB;QAChCA,WAAW,EAAE,CAACA;MADkB,CAAtB,CAAd;MAGA,IAAI,KAAKF,KAAL,CAAWG,OAAf,EAAwB,KAAKH,KAAL,CAAWG,OAAX;IAC3B,CAZmD;;IAAA,wCAc3B,MAAM;MAC3B,KAAKC,iBAAL;MACA,KAAKJ,KAAL,CAAWK,UAAX;IACH,CAjBmD;;IAEhD,KAAKC,KAAL,GAAa;MACTJ,WAAW,EAAE;IADJ,CAAb;EAGH;;EAcMK,MAAM,GAAoB;IAC7B,MAAM;MAAEL;IAAF,IAAkB,KAAKI,KAA7B;IAEA,oBACI,oBAAC,KAAD,CAAO,QAAP,QACK,CAAC,KAAKN,KAAL,CAAWO,MAAZ,iBACD,oBAAC,MAAD;MAAQ,EAAE,EAAE,KAAKP,KAAL,CAAWQ,QAAvB;MAAiC,OAAO,EAAE,KAAKR,KAAL,CAAWS,aAArD;MAAoE,OAAO,EAAE,KAAKL,iBAAlF;MAAqG,UAAU,EAAE,KAAKJ,KAAL,CAAWU;IAA5H,gBACI,oBAAC,GAAD;MAAK,MAAM,EAAE,KAAKV,KAAL,CAAWW;IAAxB,EADJ,CAFJ,EAKK,KAAKX,KAAL,CAAWO,MAAX,IAAqB,KAAKP,KAAL,CAAWO,MAAX,CAAkB,KAAKH,iBAAvB,CAL1B,eAMI,oBAAC,KAAD,eACQ,KAAKJ,KADb;MAEI,OAAO,EAAEN,YAAY,CAACkB,KAF1B;MAGI,KAAK,EAAEhB,GAAG,CAACiB,QAAJ,CAAa,KAAKb,KAAL,CAAWc,UAAxB,CAHX;MAII,MAAM,EAAEZ,WAJZ;MAKI,OAAO,EAAE,KAAKE,iBALlB;MAMI,OAAO,EAAE,cACL,oBAAC,MAAD;QAAQ,EAAE,EAAC,eAAX;QAA2B,GAAG,EAAC,SAA/B;QAAyC,OAAO,EAAC,SAAjD;QAA2D,OAAO,EAAE,KAAKW;MAAzE,gBACI,oBAAC,GAAD;QAAK,MAAM,EAAE,KAAKf,KAAL,CAAWgB;MAAxB,EADJ,CADK,eAIL,oBAAC,MAAD;QAAQ,EAAE,EAAC,cAAX;QAA0B,GAAG,EAAC,QAA9B;QAAuC,OAAO,EAAC,WAA/C;QAA2D,OAAO,EAAE,KAAKZ;MAAzE,gBACI,oBAAC,GAAD;QAAK,MAAM,EAAE,KAAKJ,KAAL,CAAWiB;MAAxB,EADJ,CAJK;IANb,IAeM,CAAC,KAAKjB,KAAL,CAAWkB,YAAZ,IAA4B,KAAKlB,KAAL,CAAWmB,QAf7C,EAgBM,KAAKnB,KAAL,CAAWkB,YAAX,iBAA2B,oBAAC,GAAD;MAAK,MAAM,EAAE,KAAKlB,KAAL,CAAWkB;IAAxB,EAhBjC,CANJ,CADJ;EA2BH;;AAzDwG;;gBAAhGrB,mB,kBACuB;EAC5BY,aAAa,EAAE,SADa;EAE5BO,wBAAwB,EAAE,UAFE;EAG5BC,sBAAsB,EAAE,UAHI;EAI5BP,UAAU,EAAE;AAJgB,C;;AAyDnC"}