{"version":3,"file":"MyResourcesPage.js","names":["React","parse","Button","Level","LevelItem","PageSection","PageSectionVariants","Stack","StackItem","Tab","Tabs","TextInput","AccountServiceContext","Scope","ResourcesTable","ContentPage","Msg","SharedResourcesTable","MY_RESOURCES_TAB","SHARED_WITH_ME_TAB","MyResourcesPage","Component","constructor","props","context","scope","name","displayName","state","myResources","data","forEach","resource","fetchShareRequests","response","doGet","resources","pendingRequest","sharedWithMe","_id","shareRequests","username","scopes","forceUpdate","value","setState","nameFilter","fetchFilteredResources","fetchInitialResources","isSharedWithMeTab","fetchResources","nextUrl","prevUrl","event","tabIndex","activeTabKey","isModalOpen","hasNext","hasPrevious","first","max","params","url","extraParams","then","map","makeScopeObj","parseResourceResponse","fetchPending","fetchPermissionRequests","length","links","headers","get","undefined","parsed","next","prev","makeTab","eventKey","title","sharedResourcesTab","localize","handleFilterRequest","render","bind","light","handleTabClick","handlePreviousClick","handleFirstPageClick","handleNextClick","clearNextPrev","newMyResources"],"sources":["../../../src/app/content/my-resources-page/MyResourcesPage.tsx"],"sourcesContent":["/*\n * Copyright 2018 Red Hat, Inc. and/or its affiliates.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\n\nimport parse from '../../util/ParseLink';\n\nimport {\n    Button,\n    Level,\n    LevelItem,\n    PageSection,\n    PageSectionVariants,\n    Stack,\n    StackItem,\n    Tab,\n    Tabs,\n    TextInput\n} from '@patternfly/react-core';\n\nimport {HttpResponse} from '../../account-service/account.service';\nimport {AccountServiceContext} from '../../account-service/AccountServiceContext';\n\nimport { PaginatedResources, Resource, Scope, Permission } from './resource-model';\nimport {ResourcesTable} from './ResourcesTable';\nimport {ContentPage} from '../ContentPage';\nimport {Msg} from '../../widgets/Msg';\nimport { SharedResourcesTable } from './SharedResourcesTable';\n\nexport interface MyResourcesPageProps {\n}\n\nexport interface MyResourcesPageState {\n    activeTabKey: number;\n    isModalOpen: boolean;\n    nameFilter: string;\n    myResources: PaginatedResources;\n    sharedWithMe: PaginatedResources;\n}\n\nconst MY_RESOURCES_TAB = 0;\nconst SHARED_WITH_ME_TAB = 1;\n\nexport class MyResourcesPage extends React.Component<MyResourcesPageProps, MyResourcesPageState> {\n    static contextType = AccountServiceContext;\n    context: React.ContextType<typeof AccountServiceContext>;\n    private first = 0;\n    private max = 5;\n\n    public constructor(props: MyResourcesPageProps, context: React.ContextType<typeof AccountServiceContext>) {\n        super(props);\n        this.context = context;\n\n        this.state = {\n            activeTabKey: MY_RESOURCES_TAB,\n            nameFilter: '',\n            isModalOpen: false,\n            myResources: {nextUrl: '', prevUrl: '', data: []},\n            sharedWithMe: {nextUrl: '', prevUrl: '', data: []}\n        };\n\n        this.fetchInitialResources();\n    }\n\n    private isSharedWithMeTab(): boolean {\n        return this.state.activeTabKey === SHARED_WITH_ME_TAB;\n    }\n\n    private hasNext(): boolean {\n        if (this.isSharedWithMeTab()) {\n            return (this.state.sharedWithMe.nextUrl !== null) && (this.state.sharedWithMe.nextUrl !== '');\n        } else {\n            return (this.state.myResources.nextUrl !== null) && (this.state.myResources.nextUrl !== '');\n        }\n    }\n\n    private hasPrevious(): boolean {\n        if (this.isSharedWithMeTab()) {\n            return (this.state.sharedWithMe.prevUrl !== null) && (this.state.sharedWithMe.prevUrl !== '');\n        } else {\n            return (this.state.myResources.prevUrl !== null) && (this.state.myResources.prevUrl !== '');\n        }\n    }\n\n    private fetchInitialResources(): void {\n        if (this.isSharedWithMeTab()) {\n            this.fetchResources(\"/resources/shared-with-me\");\n        } else {\n            this.fetchResources(\"/resources\", {first: this.first, max: this.max});\n        }\n    }\n\n    private fetchFilteredResources(params: Record<string, string|number>): void {\n        if (this.isSharedWithMeTab()) {\n            this.fetchResources(\"/resources/shared-with-me\", params);\n        } else {\n            this.fetchResources(\"/resources\", {...params, first: this.first, max: this.max});\n        }\n    }\n\n    private fetchResources(url: string, extraParams?: Record<string, string|number>): void {\n        this.context!.doGet<Resource[]>(url, {params: extraParams})\n            .then((response: HttpResponse<Resource[]>) => {\n                const resources: Resource[] = response.data || [];\n                resources.forEach((resource: Resource) => resource.shareRequests = []);\n\n                // serialize the Scope objects from JSON so that toString() will work.\n                resources.forEach((resource: Resource) => resource.scopes = resource.scopes.map(this.makeScopeObj));\n\n                if (this.isSharedWithMeTab()) {\n                    this.setState({sharedWithMe: this.parseResourceResponse(response)}, this.fetchPending);\n                } else {\n                    this.setState({myResources: this.parseResourceResponse(response)}, this.fetchPermissionRequests);\n                }\n            });\n    }\n\n    private makeScopeObj = (scope: Scope): Scope => {\n        return new Scope(scope.name, scope.displayName);\n    }\n\n    private fetchPermissionRequests = () => {\n        this.state.myResources.data.forEach((resource: Resource) => {\n            this.fetchShareRequests(resource);\n        });\n    }\n\n    private fetchShareRequests(resource: Resource): void {\n        this.context!.doGet('/resources/' + resource._id + '/permissions/requests')\n            .then((response: HttpResponse<Permission[]>) => {\n                resource.shareRequests = response.data || [];\n                if (resource.shareRequests.length > 0) {\n                    this.forceUpdate();\n                }\n            });\n    }\n\n    private fetchPending = async () => {\n        const response: HttpResponse<Resource[]> = await this.context!.doGet(`/resources/pending-requests`);\n        const resources: Resource[] = response.data || [];\n        resources.forEach((pendingRequest: Resource) => {\n            this.state.sharedWithMe.data.forEach(resource => {\n                if (resource._id === pendingRequest._id) {\n                    resource.shareRequests = [{username: 'me', scopes: pendingRequest.scopes}]\n                    this.forceUpdate();\n                }\n            });\n        });\n    }\n\n    private parseResourceResponse(response: HttpResponse<Resource[]>): PaginatedResources {\n        const links: string | undefined = response.headers.get('link') || undefined;\n        const parsed = parse(links);\n\n        let next = '';\n        let prev = '';\n\n        if (parsed !== null) {\n            if (parsed.next) next = parsed.next;\n            if (parsed.prev) prev = parsed.prev;\n        }\n\n        const resources: Resource[] = response.data || [];\n\n        return {nextUrl: next, prevUrl: prev, data: resources};\n    }\n\n    private makeTab(eventKey: number, title: string, resources: PaginatedResources, sharedResourcesTab: boolean): React.ReactNode {\n        return (\n            <Tab id={title} eventKey={eventKey} title={Msg.localize(title)}>\n                <Stack hasGutter>\n                    <StackItem isFilled><span/></StackItem>\n                    <StackItem isFilled>\n                        <Level hasGutter>\n                            <LevelItem>\n                                <TextInput value={this.state.nameFilter} onChange={this.handleFilterRequest} id={'filter-' + title} type=\"text\" placeholder={Msg.localize('filterByName')} iconVariant=\"search\"/>\n                            </LevelItem>\n                        </Level>\n                    </StackItem>\n                    <StackItem isFilled>\n                        {!sharedResourcesTab && <ResourcesTable resources={resources}/>}\n                        {sharedResourcesTab && <SharedResourcesTable resources={resources}/>}\n                    </StackItem>\n                </Stack>\n            </Tab>\n        )\n    }\n\n    public render(): React.ReactNode {\n        return (\n            <ContentPage title=\"resources\" onRefresh={this.fetchInitialResources.bind(this)}>\n                <PageSection variant={PageSectionVariants.light}>\n                    <Tabs activeKey={this.state.activeTabKey} onSelect={this.handleTabClick}>\n                        {this.makeTab(0, 'myResources', this.state.myResources, false)}\n                        {this.makeTab(1, 'sharedwithMe', this.state.sharedWithMe, true)}\n                    </Tabs>\n\n                    <Level hasGutter>\n                        <LevelItem>\n                            {this.hasPrevious() && <Button onClick={this.handlePreviousClick}>&lt;<Msg msgKey='previousPage'/></Button>}\n                        </LevelItem>\n\n                        <LevelItem>\n                            {this.hasPrevious() && <Button onClick={this.handleFirstPageClick}><Msg msgKey='firstPage'/></Button>}\n                        </LevelItem>\n\n                        <LevelItem>\n                            {this.hasNext() && <Button onClick={this.handleNextClick}><Msg msgKey='nextPage'/>&gt;</Button>}\n                        </LevelItem>\n                    </Level>\n                </PageSection>\n            </ContentPage>\n        );\n    }\n\n    private handleFilterRequest = (value: string) => {\n        this.setState({nameFilter: value});\n        this.fetchFilteredResources({name: value});\n    }\n\n    private clearNextPrev(): void {\n        const newMyResources: PaginatedResources = this.state.myResources;\n        newMyResources.nextUrl = '';\n        newMyResources.prevUrl = '';\n        this.setState({myResources: newMyResources});\n    }\n\n    private handleFirstPageClick = () => {\n        this.fetchInitialResources();\n    }\n\n    private handleNextClick = () => {\n        if (this.isSharedWithMeTab()) {\n            this.fetchResources(this.state.sharedWithMe.nextUrl);\n        } else {\n            this.fetchResources(this.state.myResources.nextUrl);\n        }\n    }\n\n    private handlePreviousClick = () => {\n        if (this.isSharedWithMeTab()) {\n            this.fetchResources(this.state.sharedWithMe.prevUrl);\n        } else {\n            this.fetchResources(this.state.myResources.prevUrl);\n        }\n    }\n\n    private handleTabClick = (event: React.MouseEvent<HTMLInputElement>, tabIndex: number) => {\n        if (this.state.activeTabKey === tabIndex) return;\n\n        this.setState({\n            nameFilter: '',\n            activeTabKey: tabIndex\n        }, () => {this.fetchInitialResources()});\n    };\n};\n"],"mappings":"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"}