{"version":3,"file":"DeviceActivityPage.js","names":["React","AccountServiceContext","TimeUtil","Button","DataList","DataListItem","DataListItemRow","DataListContent","DescriptionList","DescriptionListTerm","DescriptionListDescription","DescriptionListGroup","Grid","GridItem","Label","PageSection","PageSectionVariants","Title","Tooltip","SplitItem","Split","DesktopIcon","MobileAltIcon","SyncAltIcon","Msg","ContinueCancelModal","KeycloakContext","ContentPage","ContentAlert","DeviceActivityPage","Component","constructor","props","context","keycloakService","doDelete","then","logout","device","session","encodeURIComponent","id","fetchDevices","success","browser","os","state","devices","doGet","response","console","log","moveCurrentToTop","data","setState","currentDevice","forEach","index","current","splice","unshift","sessions","currentSession","time","format","elementId","item","element","substring","findDeviceTypeIcon","deviceType","mobile","findOS","toLowerCase","includes","localize","findOSVersion","osVersion","makeClientsString","clients","clientsString","client","clientName","hasOwnProperty","undefined","clientId","length","isShowSignOutAll","render","light","bind","keycloak","signOutAll","map","deviceIndex","sessionIndex","signOutSession","sm","lg","ipAddress","lastAccess","started","expires"],"sources":["../../../src/app/content/device-activity-page/DeviceActivityPage.tsx"],"sourcesContent":["/*\n * Copyright 2018 Red Hat, Inc. and/or its affiliates.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from 'react';\n\nimport {HttpResponse} from '../../account-service/account.service';\nimport { AccountServiceContext } from '../../account-service/AccountServiceContext';\nimport TimeUtil from '../../util/TimeUtil';\n\nimport {\n  Button,\n  DataList,\n  DataListItem,\n  DataListItemRow,\n  DataListContent,\n  DescriptionList,\n  DescriptionListTerm,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  Grid,\n  GridItem,\n  Label,\n  PageSection,\n  PageSectionVariants,\n  Title,\n  Tooltip,\n  SplitItem,\n  Split\n} from '@patternfly/react-core';\n\nimport {\n        DesktopIcon,\n        MobileAltIcon,\n        SyncAltIcon,\n} from '@patternfly/react-icons';\n\nimport {Msg} from '../../widgets/Msg';\nimport {ContinueCancelModal} from '../../widgets/ContinueCancelModal';\nimport { KeycloakService } from '../../keycloak-service/keycloak.service';\nimport { KeycloakContext } from '../../keycloak-service/KeycloakContext';\n\nimport {ContentPage} from '../ContentPage';\nimport { ContentAlert } from '../ContentAlert';\n\nexport interface DeviceActivityPageProps {\n}\n\nexport interface DeviceActivityPageState {\n  devices: Device[];\n}\n\ninterface Device {\n  browser: string;\n  current: boolean;\n  device: string;\n  ipAddress: string;\n  lastAccess: number;\n  mobile: boolean;\n  os: string;\n  osVersion: string;\n  sessions: Session[];\n}\n\ninterface Session {\n  browser: string;\n  current: boolean;\n  clients: Client[];\n  expires: number;\n  id: string;\n  ipAddress: string;\n  lastAccess: number;\n  started: number;\n}\n\ninterface Client {\n  clientId: string;\n  clientName: string;\n}\n\n/**\n * @author Stan Silvert ssilvert@redhat.com (C) 2019 Red Hat Inc.\n */\nexport class DeviceActivityPage extends React.Component<DeviceActivityPageProps, DeviceActivityPageState> {\n    static contextType = AccountServiceContext;\n    context: React.ContextType<typeof AccountServiceContext>;\n\n    public constructor(props: DeviceActivityPageProps, context: React.ContextType<typeof AccountServiceContext>) {\n        super(props);\n        this.context = context;\n\n        this.state = {\n          devices: []\n        };\n\n        this.fetchDevices();\n    }\n\n    private signOutAll = (keycloakService: KeycloakService) => {\n      this.context!.doDelete(\"/sessions\")\n        .then( () => {\n          keycloakService.logout();\n        });\n    }\n\n    private signOutSession = (device: Device, session: Session) => {\n      this.context!.doDelete(\"/sessions/\" + encodeURIComponent(session.id))\n          .then (() => {\n            this.fetchDevices();\n            ContentAlert.success('signedOutSession', [session.browser, device.os]);\n          });\n    }\n\n    private fetchDevices(): void {\n      this.context!.doGet<Device[]>(\"/sessions/devices\")\n          .then((response: HttpResponse<Device[]>) => {\n            console.log({response});\n\n            let devices: Device[] = this.moveCurrentToTop(response.data as Device[]);\n\n            this.setState({\n              devices: devices\n            });\n\n          });\n    }\n\n    // current device and session should display at the top of their respective lists\n    private moveCurrentToTop(devices: Device[]): Device[] {\n      let currentDevice: Device = devices[0];\n\n      devices.forEach((device: Device, index: number) => {\n        if (device.current) {\n          currentDevice = device;\n          devices.splice(index, 1);\n          devices.unshift(device);\n        }\n      });\n\n      currentDevice.sessions.forEach((session: Session, index: number) => {\n        if (session.current) {\n          const currentSession: Session[] = currentDevice.sessions.splice(index, 1);\n          currentDevice.sessions.unshift(currentSession[0]);\n        }\n      });\n\n      return devices;\n    }\n\n    private time(time: number): string {\n      return TimeUtil.format(time * 1000);\n    }\n\n    private elementId(item: string, session: Session, element: string='session'): string {\n        return `${element}-${session.id.substring(0,7)}-${item}`;\n    }\n\n    private findDeviceTypeIcon(session: Session, device: Device): React.ReactNode {\n      const deviceType: boolean = device.mobile;\n      if (deviceType === true) return (<MobileAltIcon id={this.elementId('icon-mobile', session, 'device')} />);\n\n      return (<DesktopIcon id={this.elementId('icon-desktop', session, 'device')} />);\n    }\n\n    private findOS(device: Device): string {\n      if (device.os.toLowerCase().includes('unknown')) return Msg.localize('unknownOperatingSystem');\n\n      return device.os;\n    }\n\n    private findOSVersion(device: Device): string {\n      if (device.osVersion.toLowerCase().includes('unknown')) return '';\n\n      return device.osVersion;\n    }\n\n    private makeClientsString(clients: Client[]): string {\n      let clientsString = \"\";\n      clients.forEach( (client: Client, index: number) => {\n        let clientName: string;\n        if (client.hasOwnProperty('clientName') && (client.clientName !== undefined) && (client.clientName !== '')) {\n          clientName = Msg.localize(client.clientName);\n        } else {\n          clientName = client.clientId;\n        }\n\n        clientsString += clientName;\n\n        if (clients.length > index + 1) clientsString += ', ';\n      })\n\n      return clientsString;\n    }\n\n    private isShowSignOutAll(devices: Device[]): boolean {\n      if (devices.length === 0) return false;\n      if (devices.length > 1) return true;\n      if (devices[0].sessions.length > 1) return true;\n\n      return false;\n    }\n\n    public render(): React.ReactNode {\n\n      return (\n          <ContentPage \n            title=\"device-activity\" \n            introMessage=\"signedInDevicesExplanation\" \n          >\n            <PageSection isFilled variant={PageSectionVariants.light}>\n            <Split hasGutter className=\"pf-u-mb-lg\">\n              <SplitItem isFilled>\n                <div id=\"signedInDevicesTitle\" className=\"pf-c-content\"><Title headingLevel=\"h2\" size=\"xl\"><Msg msgKey=\"signedInDevices\"/></Title></div>\n              </SplitItem>\n              <SplitItem>\n                <Tooltip content={<Msg msgKey=\"refreshPage\" />}>\n                  <Button\n                    aria-describedby=\"refresh page\"\n                    id=\"refresh-page\"\n                    variant=\"link\"\n                    onClick={this.fetchDevices.bind(this)}\n                    icon={<SyncAltIcon />}\n                  >\n                    <Msg msgKey=\"refresh\"/>\n                  </Button>\n                </Tooltip>\n              </SplitItem>\n              <SplitItem>\n              <KeycloakContext.Consumer>\n                { (keycloak: KeycloakService) => (\n                    this.isShowSignOutAll(this.state.devices) &&\n                      <ContinueCancelModal buttonTitle='signOutAllDevices'\n                                    buttonId='sign-out-all'\n                                    modalTitle='signOutAllDevices'\n                                    modalMessage='signOutAllDevicesWarning'\n                                    onContinue={() => this.signOutAll(keycloak)}\n                      />\n                )}\n              </KeycloakContext.Consumer>\n              </SplitItem>\n            </Split>\n            <DataList className=\"signed-in-device-list\" aria-label={Msg.localize('signedInDevices')}>\n              <DataListItem aria-labelledby='sessions' id='device-activity-sessions'>\n                {this.state.devices.map((device: Device, deviceIndex: number) => {\n                  return (\n                    <React.Fragment>\n                      {device.sessions.map((session: Session, sessionIndex: number) => {\n                        return (\n                          <React.Fragment key={'device-' + deviceIndex + '-session-' + sessionIndex}>\n                            <DataListItemRow>\n                              <DataListContent aria-label=\"device-sessions-content\" isHidden={false} className=\"pf-u-flex-grow-1\">\n                                <Grid id={this.elementId(\"item\",session)} className=\"signed-in-device-grid\" hasGutter>\n                                  <GridItem className=\"device-icon\" span={1} rowSpan={2}>\n                                    <span>{this.findDeviceTypeIcon(session, device)}</span>\n                                  </GridItem>\n                                  <GridItem sm={8} md={9} span={10}>\n                                    <span id={this.elementId('browser', session)} className=\"pf-u-mr-md session-title\">{this.findOS(device)} {this.findOSVersion(device)} / {session.browser}</span>\n                                    {session.current &&\n                                      <Label color=\"green\" id={this.elementId('current-badge', session)}><Msg msgKey=\"currentSession\" /></Label>}\n                                  </GridItem>\n                                  <GridItem className=\"pf-u-text-align-right\" sm={3} md={2} span={1}>\n                                    {!session.current &&\n                                      <ContinueCancelModal buttonTitle='doSignOut'\n                                        buttonId={this.elementId('sign-out', session)}\n                                        modalTitle='doSignOut'\n                                        buttonVariant='secondary'\n                                        modalMessage='signOutWarning'\n                                        onContinue={() => this.signOutSession(device, session)}\n                                      />\n                                    }\n                                  </GridItem>\n                                  <GridItem span={11}>\n                                    <DescriptionList columnModifier={{ sm: '2Col', lg: '3Col' }}>\n                                      <DescriptionListGroup>\n                                        <DescriptionListTerm>{Msg.localize('ipAddress')}</DescriptionListTerm>\n                                          <DescriptionListDescription id={this.elementId('ip', session)}>{session.ipAddress}</DescriptionListDescription>\n                                      </DescriptionListGroup>\n                                      <DescriptionListGroup>\n                                          <DescriptionListTerm>{Msg.localize('lastAccessedOn')}</DescriptionListTerm>\n                                          <DescriptionListDescription id={this.elementId('last-access', session)}>{this.time(session.lastAccess)}</DescriptionListDescription>\n                                      </DescriptionListGroup>\n                                      <DescriptionListGroup>\n                                          <DescriptionListTerm>{Msg.localize('clients')}</DescriptionListTerm>\n                                          <DescriptionListDescription id={this.elementId('clients', session)}>{this.makeClientsString(session.clients)}</DescriptionListDescription>\n                                      </DescriptionListGroup>\n                                      <DescriptionListGroup>\n                                        <DescriptionListTerm>{Msg.localize('started')}</DescriptionListTerm>\n                                        <DescriptionListDescription id={this.elementId('started', session)}>{this.time(session.started)}</DescriptionListDescription>\n                                      </DescriptionListGroup>\n                                      <DescriptionListGroup>\n                                        <DescriptionListTerm>{Msg.localize('expires')}</DescriptionListTerm>\n                                        <DescriptionListDescription id={this.elementId('expires', session)}>{this.time(session.expires)}</DescriptionListDescription>\n                                      </DescriptionListGroup>\n                                    </DescriptionList>\n                                  </GridItem>\n                                </Grid>\n                              </DataListContent>\n                            </DataListItemRow>\n                          </React.Fragment>\n                        );\n                      })}\n                    </React.Fragment>\n                  )\n                })}\n              </DataListItem>\n            </DataList>\n          </PageSection>\n        </ContentPage>\n      );\n    }\n};\n"],"mappings":"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"}